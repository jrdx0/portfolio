---
import Hero from '../components/Hero.astro';
import Projects from '../components/Projects.astro';
import Layout from '../layouts/Layout.astro';
import Navigator from '../components/Navigator.astro';
---

<Layout>
  <header class="sticky top-0 z-10 container mx-auto py-6">
    <Navigator />
  </header>
  <main>
    <Hero />
    <Projects />
  </main>
</Layout>

<script>
  import { gsap } from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';

  gsap.registerPlugin(ScrollTrigger);

  document.body.style.overflow = 'hidden';

  const tl = gsap.timeline({
    defaults: { ease: 'power2.out' },
    onComplete: () => {
      document.body.style.overflow = '';
    },
  });

  tl.from('#greetings', {
    x: -100,
    opacity: 0,
    duration: 1,
    display: 'inline-block',
    delay: 0.5,
  })
    .from('#name', {
      opacity: 0,
      duration: 1,
    })
    .from('#title', {
      opacity: 0,
      y: 40,
      duration: 1,
    })
    .from('#social-networks', {
      opacity: 0,
      duration: 1,
      delay: 0.5,
    });

  gsap.from('#projects', {
    opacity: 0,
    y: 100,
    duration: 1,
    scrollTrigger: {
      trigger: '#projects',
      start: 'top 80%',
      end: 'top 50%',
      toggleActions: 'play none none reverse',
    },
  });
</script>
